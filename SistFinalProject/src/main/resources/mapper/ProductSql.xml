<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="sist.last.mapper.ProductMapperInter">
    <select id="selectCategory" resultType="String">
        select distinct accom_category from accom order by accom_category asc
    </select>
    <select id="getProductDataOfCategory" resultType="productDto" parameterType="String">
        select distinct * FROM accom A JOIN room B ON A.accom_num = B.accom_num
        where A.accom_category = #{keyword}
        order by A.accom_score desc, B.room_price asc limit 1;
    </select>
    <select id="getProductDataOfHashTag" resultType="productDto" parameterType="String">
        select distinct * FROM accom A JOIN room B ON A.accom_num = B.accom_num
        where A.accom_hashtag like '%${keyword}%'
        order by A.accom_score desc, B.room_price asc limit 1;
    </select>
    <select id="getProductDataOfLocation" resultType="productDto" parameterType="String">
        select distinct * FROM accom A JOIN room B ON A.accom_num = B.accom_num
        where A.accom_location like '%${keyword}%'
        order by A.accom_score desc, B.room_price asc limit 1;
    </select>
    <select id="getProductDataOfName" resultType="productDto" parameterType="String">
        select distinct * FROM accom A JOIN room B ON A.accom_num = B.accom_num
        where A.accom_name like '%${keyword}%'
        order by A.accom_score desc, B.room_price asc limit 1;
    </select>
    <!--<select id="getProductClickOrderByLowPrice" resultType="productDto" parameterType="">

    </select>-->
</mapper>